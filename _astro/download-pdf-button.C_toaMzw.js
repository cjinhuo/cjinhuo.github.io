import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r as c}from"./index.DK-fsZOb.js";function g({elementId:a}){const[n,l]=c.useState(!1),i=async()=>{const o=document.getElementById(a);if(!o)return;l(!0),o.classList.add("pdf-optimized"),document.body.classList.add("pdf-generating"),await new Promise(t=>setTimeout(t,100));const d={margin:[10,10,10,10],filename:"陈金伙的简历.pdf",image:{type:"jpeg",quality:.98,crossOrigin:"anonymous"},html2canvas:{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",removeContainer:!0,onclone:t=>{const s=t.getElementById(a);s&&(s.querySelectorAll(".border-b, .border-l-4, .border").forEach(r=>{r.classList.remove("border-b","border-l-4","border","border-gray-200","border-gray-700")}),s.querySelectorAll(".absolute.-left-2").forEach(r=>{r.style.display="none"}),s.querySelectorAll(".border-l-4").forEach(r=>{r.classList.remove("border-l-4"),r.classList.add("pl-4")}))}},jsPDF:{unit:"mm",format:"a4",orientation:"portrait",compress:!0},pagebreak:{mode:["avoid-all","css","legacy"],before:".page-break-before",after:".page-break-after"}};try{await window.html2pdf().from(o).set(d).save()}catch(t){console.error("PDF生成失败:",t)}finally{o.classList.remove("pdf-optimized"),document.body.classList.remove("pdf-generating"),l(!1)}};return e.jsx("button",{onClick:i,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-medium transition-colors duration-200 shadow-sm",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),e.jsx("span",{children:"生成中..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{children:"下载PDF"})]})})}export{g as default};
