import{j as n}from"./jsx-runtime.D_zvdyIk.js";import{r as D}from"./index.DiEladB3.js";function ee(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}var V={exports:{}},te=V.exports,K;function se(){return K||(K=1,(function(x,_){(function($,v){x.exports=v()})(te,(function(){var $=1e3,v=6e4,d=36e5,j="millisecond",k="second",M="minute",m="hour",O="day",W="week",N="month",P="quarter",l="year",h="date",y="Invalid Date",H=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(i){var s=["th","st","nd","rd"],e=i%100;return"["+i+(s[(e-20)%10]||s[e]||s[0])+"]"}},Z=function(i,s,e){var r=String(i);return!r||r.length>=s?i:""+Array(s+1-r.length).join(e)+i},X={s:Z,z:function(i){var s=-i.utcOffset(),e=Math.abs(s),r=Math.floor(e/60),t=e%60;return(s<=0?"+":"-")+Z(r,2,"0")+":"+Z(t,2,"0")},m:function i(s,e){if(s.date()<e.date())return-i(e,s);var r=12*(e.year()-s.year())+(e.month()-s.month()),t=s.clone().add(r,N),a=e-t<0,o=s.clone().add(r+(a?-1:1),N);return+(-(r+(e-t)/(a?t-o:o-t))||0)},a:function(i){return i<0?Math.ceil(i)||0:Math.floor(i)},p:function(i){return{M:N,y:l,w:W,d:O,D:h,h:m,m:M,s:k,ms:j,Q:P}[i]||String(i||"").toLowerCase().replace(/s$/,"")},u:function(i){return i===void 0}},I="en",A={};A[I]=Y;var Q="$isDayjsObject",q=function(i){return i instanceof z||!(!i||!i[Q])},U=function i(s,e,r){var t;if(!s)return I;if(typeof s=="string"){var a=s.toLowerCase();A[a]&&(t=a),e&&(A[a]=e,t=a);var o=s.split("-");if(!t&&o.length>1)return i(o[0])}else{var u=s.name;A[u]=s,t=u}return!r&&t&&(I=t),t||!r&&I},p=function(i,s){if(q(i))return i.clone();var e=typeof s=="object"?s:{};return e.date=i,e.args=arguments,new z(e)},c=X;c.l=U,c.i=q,c.w=function(i,s){return p(i,{locale:s.$L,utc:s.$u,x:s.$x,$offset:s.$offset})};var z=(function(){function i(e){this.$L=U(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[Q]=!0}var s=i.prototype;return s.parse=function(e){this.$d=(function(r){var t=r.date,a=r.utc;if(t===null)return new Date(NaN);if(c.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var o=t.match(H);if(o){var u=o[2]-1||0,f=(o[7]||"0").substring(0,3);return a?new Date(Date.UTC(o[1],u,o[3]||1,o[4]||0,o[5]||0,o[6]||0,f)):new Date(o[1],u,o[3]||1,o[4]||0,o[5]||0,o[6]||0,f)}}return new Date(t)})(e),this.init()},s.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},s.$utils=function(){return c},s.isValid=function(){return this.$d.toString()!==y},s.isSame=function(e,r){var t=p(e);return this.startOf(r)<=t&&t<=this.endOf(r)},s.isAfter=function(e,r){return p(e)<this.startOf(r)},s.isBefore=function(e,r){return this.endOf(r)<p(e)},s.$g=function(e,r,t){return c.u(e)?this[r]:this.set(t,e)},s.unix=function(){return Math.floor(this.valueOf()/1e3)},s.valueOf=function(){return this.$d.getTime()},s.startOf=function(e,r){var t=this,a=!!c.u(r)||r,o=c.p(e),u=function(E,w){var T=c.w(t.$u?Date.UTC(t.$y,w,E):new Date(t.$y,w,E),t);return a?T:T.endOf(O)},f=function(E,w){return c.w(t.toDate()[E].apply(t.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(w)),t)},g=this.$W,b=this.$M,S=this.$D,F="set"+(this.$u?"UTC":"");switch(o){case l:return a?u(1,0):u(31,11);case N:return a?u(1,b):u(0,b+1);case W:var L=this.$locale().weekStart||0,R=(g<L?g+7:g)-L;return u(a?S-R:S+(6-R),b);case O:case h:return f(F+"Hours",0);case m:return f(F+"Minutes",1);case M:return f(F+"Seconds",2);case k:return f(F+"Milliseconds",3);default:return this.clone()}},s.endOf=function(e){return this.startOf(e,!1)},s.$set=function(e,r){var t,a=c.p(e),o="set"+(this.$u?"UTC":""),u=(t={},t[O]=o+"Date",t[h]=o+"Date",t[N]=o+"Month",t[l]=o+"FullYear",t[m]=o+"Hours",t[M]=o+"Minutes",t[k]=o+"Seconds",t[j]=o+"Milliseconds",t)[a],f=a===O?this.$D+(r-this.$W):r;if(a===N||a===l){var g=this.clone().set(h,1);g.$d[u](f),g.init(),this.$d=g.set(h,Math.min(this.$D,g.daysInMonth())).$d}else u&&this.$d[u](f);return this.init(),this},s.set=function(e,r){return this.clone().$set(e,r)},s.get=function(e){return this[c.p(e)]()},s.add=function(e,r){var t,a=this;e=Number(e);var o=c.p(r),u=function(b){var S=p(a);return c.w(S.date(S.date()+Math.round(b*e)),a)};if(o===N)return this.set(N,this.$M+e);if(o===l)return this.set(l,this.$y+e);if(o===O)return u(1);if(o===W)return u(7);var f=(t={},t[M]=v,t[m]=d,t[k]=$,t)[o]||1,g=this.$d.getTime()+e*f;return c.w(g,this)},s.subtract=function(e,r){return this.add(-1*e,r)},s.format=function(e){var r=this,t=this.$locale();if(!this.isValid())return t.invalidDate||y;var a=e||"YYYY-MM-DDTHH:mm:ssZ",o=c.z(this),u=this.$H,f=this.$m,g=this.$M,b=t.weekdays,S=t.months,F=t.meridiem,L=function(w,T,B,J){return w&&(w[T]||w(r,a))||B[T].slice(0,J)},R=function(w){return c.s(u%12||12,w,"0")},E=F||function(w,T,B){var J=w<12?"AM":"PM";return B?J.toLowerCase():J};return a.replace(C,(function(w,T){return T||(function(B){switch(B){case"YY":return String(r.$y).slice(-2);case"YYYY":return c.s(r.$y,4,"0");case"M":return g+1;case"MM":return c.s(g+1,2,"0");case"MMM":return L(t.monthsShort,g,S,3);case"MMMM":return L(S,g);case"D":return r.$D;case"DD":return c.s(r.$D,2,"0");case"d":return String(r.$W);case"dd":return L(t.weekdaysMin,r.$W,b,2);case"ddd":return L(t.weekdaysShort,r.$W,b,3);case"dddd":return b[r.$W];case"H":return String(u);case"HH":return c.s(u,2,"0");case"h":return R(1);case"hh":return R(2);case"a":return E(u,f,!0);case"A":return E(u,f,!1);case"m":return String(f);case"mm":return c.s(f,2,"0");case"s":return String(r.$s);case"ss":return c.s(r.$s,2,"0");case"SSS":return c.s(r.$ms,3,"0");case"Z":return o}return null})(w)||o.replace(":","")}))},s.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},s.diff=function(e,r,t){var a,o=this,u=c.p(r),f=p(e),g=(f.utcOffset()-this.utcOffset())*v,b=this-f,S=function(){return c.m(o,f)};switch(u){case l:a=S()/12;break;case N:a=S();break;case P:a=S()/3;break;case W:a=(b-g)/6048e5;break;case O:a=(b-g)/864e5;break;case m:a=b/d;break;case M:a=b/v;break;case k:a=b/$;break;default:a=b}return t?a:c.a(a)},s.daysInMonth=function(){return this.endOf(N).$D},s.$locale=function(){return A[this.$L]},s.locale=function(e,r){if(!e)return this.$L;var t=this.clone(),a=U(e,r,!0);return a&&(t.$L=a),t},s.clone=function(){return c.w(this.$d,this)},s.toDate=function(){return new Date(this.valueOf())},s.toJSON=function(){return this.isValid()?this.toISOString():null},s.toISOString=function(){return this.$d.toISOString()},s.toString=function(){return this.$d.toUTCString()},i})(),G=z.prototype;return p.prototype=G,[["$ms",j],["$s",k],["$m",M],["$H",m],["$W",O],["$M",N],["$y",l],["$D",h]].forEach((function(i){G[i[1]]=function(s){return this.$g(s,i[0],i[1])}})),p.extend=function(i,s){return i.$i||(i(s,z,p),i.$i=!0),p},p.locale=U,p.isDayjs=q,p.unix=function(i){return p(1e3*i)},p.en=A[I],p.Ls=A,p.p={},p}))})(V)),V.exports}var ne=se();const re=ee(ne);function ie({id:x,title:_,description:$,pubDate:v,tags:d,author:j,authorHref:k}){const M=`/blogs/${x}`;return n.jsxs("div",{className:"w-full h-auto p-6 bg-skin-card-bg border border-skin-card-border border-l-2 hover:border-l-skin-primary transition-colors",children:[n.jsx("a",{href:M,className:"text-lg text-skin-neutral-1 font-semibold block mb-4 hover:underline",children:_}),n.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("svg",{className:"w-4 h-4 text-skin-neutral-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2",strokeWidth:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6",strokeWidth:"2"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6",strokeWidth:"2"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10",strokeWidth:"2"})]}),n.jsx("time",{className:"font-mono text-xs text-skin-neutral-6",children:re(v).format("YYYY-MM-DD")})]}),j&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("svg",{className:"w-4 h-4 text-skin-neutral-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",strokeWidth:"2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4",strokeWidth:"2"})]}),n.jsx("a",{className:"font-mono text-xs text-skin-neutral-5 hover:underline",href:k,target:"_blank",rel:"noopener noreferrer",children:j})]})]}),d&&d.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:d.map(m=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-skin-tag-bg text-skin-tag-text font-mono",children:m},m))}),n.jsx("p",{className:"text-xs text-skin-neutral-4 font-mono leading-relaxed",children:$})]})}function ae({tags:x,selectedTag:_,onTagChange:$}){const v=["All",...x];return n.jsx("div",{className:"flex items-center gap-3 flex-wrap",children:v.map(d=>{const j=d===_;return n.jsx("button",{type:"button",onClick:()=>$(d),className:`px-3 py-1.5 rounded-sm font-mono text-xs font-medium transition-colors ${j?"bg-skin-primary text-skin-neutral-10 font-bold":"bg-skin-card-bg text-skin-primary hover:bg-skin-tag-bg"}`,children:d},d)})})}function oe({years:x,selectedYear:_,onYearChange:$}){const[v,d]=D.useState(!1),j=D.useRef(null),k=D.useCallback(m=>{j.current&&!j.current.contains(m.target)&&d(!1)},[]);D.useEffect(()=>{if(v)return document.addEventListener("click",k),()=>document.removeEventListener("click",k)},[v,k]);const M=_??"All";return n.jsxs("div",{ref:j,className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>d(!v),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-sm bg-skin-card-bg border border-skin-card-border hover:border-skin-primary transition-colors",children:[n.jsxs("svg",{className:"w-3 h-3 text-skin-neutral-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2",strokeWidth:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6",strokeWidth:"2"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6",strokeWidth:"2"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10",strokeWidth:"2"})]}),n.jsx("span",{className:"font-mono text-xs text-skin-neutral-4",children:M}),n.jsx("svg",{className:`w-2.5 h-2.5 text-skin-neutral-5 transition-transform ${v?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("polyline",{points:"6 9 12 15 18 9",strokeWidth:"2"})})]}),v&&n.jsxs("div",{className:"absolute top-full left-0 mt-1 min-w-[100px] bg-skin-card-bg border border-skin-card-border rounded shadow-lg z-50",children:[n.jsx("button",{type:"button",onClick:()=>{$(null),d(!1)},className:`w-full px-3 py-2 text-left font-mono text-xs transition-colors ${_===null?"text-skin-primary bg-skin-tag-bg":"text-skin-neutral-4 hover:bg-skin-tag-bg"}`,children:"All"}),x.map(m=>n.jsx("button",{type:"button",onClick:()=>{$(m),d(!1)},className:`w-full px-3 py-2 text-left font-mono text-xs transition-colors ${_===m?"text-skin-primary bg-skin-tag-bg":"text-skin-neutral-4 hover:bg-skin-tag-bg"}`,children:m},m))]})]})}function ue({initialData:x,allTags:_}){const[$,v]=D.useState("All"),[d,j]=D.useState(null),k=D.useRef(null),M=D.useRef(new Map),m=D.useMemo(()=>x.map(l=>l.year),[x]),O=D.useMemo(()=>{let l=x;return $!=="All"&&(l=l.map(h=>({...h,months:h.months.map(y=>({...y,posts:y.posts.filter(H=>H.tags?.includes($))})).filter(y=>y.posts.length>0),totalPosts:h.months.reduce((y,H)=>y+H.posts.filter(C=>C.tags?.includes($)).length,0)})).filter(h=>h.totalPosts>0)),d!==null&&(l=l.filter(h=>h.year===d)),l},[x,$,d]),W=D.useCallback(l=>{const h=M.current.get(l);h&&k.current&&h.scrollIntoView({behavior:"smooth",block:"start"})},[]);D.useEffect(()=>{d!==null&&W(d)},[d,W]);const N=l=>{j(l)},P=new Date().getFullYear();return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap py-4 border-b border-skin-card-border",children:[n.jsx(ae,{tags:_,selectedTag:$,onTagChange:v}),n.jsx("div",{className:"w-px h-5 bg-skin-card-border"}),n.jsx(oe,{years:m,selectedYear:d,onYearChange:N})]}),n.jsx("div",{ref:k,className:"pt-8",children:O.length===0?n.jsx("div",{className:"text-center py-12 text-skin-neutral-5 font-mono text-sm",children:"No posts found"}):n.jsx("div",{className:"space-y-0",children:O.map((l,h)=>{const y=l.year===P,H=h===0;return n.jsx("div",{ref:C=>{C&&M.current.set(l.year,C)},className:"relative",children:n.jsxs("div",{children:[!H&&n.jsx("div",{className:"flex",children:n.jsx("div",{className:"w-10 flex justify-center shrink-0",children:n.jsx("div",{className:"w-0.5 h-4 bg-skin-card-border"})})}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 flex justify-center shrink-0",children:n.jsx("div",{className:`w-3 h-3 rounded-full ${y?"bg-skin-primary":"bg-skin-neutral-5"}`})}),n.jsx("h2",{className:`text-2xl font-bold ${y?"text-skin-neutral-1":"text-skin-neutral-4"}`,children:l.year}),n.jsxs("span",{className:`font-mono text-xs ml-4 ${y?"text-skin-neutral-5":"text-skin-neutral-6"}`,children:[l.totalPosts," ",l.totalPosts===1?"post":"posts"]})]}),l.months.map(C=>n.jsxs("div",{children:[n.jsx("div",{className:"flex",children:n.jsx("div",{className:"w-10 flex justify-center shrink-0",children:n.jsx("div",{className:"w-0.5 h-4 bg-skin-card-border"})})}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 flex justify-center shrink-0",children:n.jsx("div",{className:`w-2 h-2 rounded-full ${y?"bg-skin-primary":"bg-skin-neutral-5"}`})}),n.jsx("h3",{className:`font-mono text-sm font-semibold ${y?"text-skin-primary":"text-skin-neutral-5"}`,children:C.monthName})]}),n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"w-10 flex justify-center shrink-0",children:n.jsx("div",{className:"w-0.5 h-full bg-skin-card-border"})}),n.jsx("div",{className:"flex-1 py-4 space-y-6",children:C.posts.map(Y=>n.jsx(ie,{id:Y.id,title:Y.title,description:Y.description,pubDate:Y.pubDate,tags:Y.tags},Y.id))})]})]},C.month))]})},l.year)})})})]})}export{ue as default};
