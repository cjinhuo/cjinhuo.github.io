---
import '@icon-park/react/styles/index.css'
import NavLink from './NavLink'
import ToggleTheme from './ToggleTheme'
import { ClientRouter } from 'astro:transitions'
---

<header class='flex justify-between items-center'>
  <script async src='https://lf1-cdn-tos.bytegoofy.com/obj/iconpark/icons_19840_9.23068c8b37faf24c94259db4fbf93080.js'>
  </script>
  <script>
    const html = document.documentElement
    function onWindowResize() {
      const rem = html.getBoundingClientRect().width / 35
      let fontSize = 16
      if (rem > 16) {
        fontSize = 16
      } else if (rem < 12) {
        fontSize = 12
      } else {
        fontSize = rem
      }
      html.style.fontSize = fontSize + 'px'
    }
    window.addEventListener('resize', onWindowResize)
    window.addEventListener('DOMContentLoaded', onWindowResize)
  </script>
  <a class='flex items-center gap-2.5 text-skin-neutral-1 hover:text-skin-neutral-3 font-semibold tracking-widest' href='/'>
    <span class='w-5 h-5 bg-skin-primary'></span>
    <span>SHANKS</span>
  </a>
  <nav class='flex items-center gap-6'>
    <NavLink pathname={Astro.url.pathname} />
    <ToggleTheme client:only='react' />
  </nav>
  <ClientRouter />
</header>
